! ######################## Initial-config.j2 ###########################
hostname dsw-1
enable secret ccnplab
no ip domain-lookup
service password-encryption

! ######################## AAA CONF ####################################
aaa new-model
aaa authentication login default local
aaa authorization exec default local

! ######################## LOCAL ACCOUNTS ##############################
username admin privilege 15 secret adminlab
username danielmac privilege 15 secret ccnplab
username test-team privilege 4 secret testlab
username x-team privilege 15 secret xlab

! ######################## CONSOLE #####################################
line console 0
 pass ccnplab
 logging synchronous
 exec-timeout 0

! ######################## VTY LINES ###################################
line vty 0 4
 password ccnplab
 login local
 transport input telnet

! ######################## MGMT INT #####################################
interface Et1/2
 !ip address 192.168.10.129 255.255.255.0
 ip address dhcp
 description Management Interface
 no shutdown

! ######################## END OF INITIAL CONFIG ########################
! ######################## Switches.j2  ################################
vlan 200
  name MGMT-200
vlan 999
  name SPAR-999

interface Et0/0
  description R4 (Et0/0)
  switchport trunk encapsulation dot1q
  switchport mode trunk
  switchport trunk allowed vlan 10,20

interface Et0/1
  switchport mode access
  switchport access vlan 999

interface Et0/2
  switchport mode access
  switchport access vlan 999

interface Et0/3
  switchport mode access
  switchport access vlan 999

interface Et1/0
  description ASW-1 (Et1/0)
  switchport trunk encapsulation dot1q
  switchport mode trunk
  switchport trunk allowed vlan 10

interface Et1/1
  description ASW-1 (Et1/1)
  switchport trunk encapsulation dot1q
  switchport mode trunk
  switchport trunk allowed vlan 10

interface Et1/3
  description OOB-SW (Et1/2)
  switchport mode access
  switchport access vlan 200

interface Et2/0
  description ASW-2 (Et2/0)
  switchport trunk encapsulation dot1q
  switchport mode trunk
  switchport trunk allowed vlan 10

interface Et2/1
  description ASW-2 (Et2/1)
  switchport trunk encapsulation dot1q
  switchport mode trunk
  switchport trunk allowed vlan 10

interface Et2/2
  switchport mode access
  switchport access vlan 999

interface Et2/3
  switchport mode access
  switchport access vlan 999

interface Et3/0
  description DSW-2 (Et3/0)
  switchport trunk encapsulation dot1q
  switchport mode trunk
  switchport trunk allowed vlan 10,20

interface Et3/1
  description DSW-2 (Et3/1)
  switchport trunk encapsulation dot1q
  switchport mode trunk
  switchport trunk allowed vlan 10,20

interface Et3/2
  switchport mode access
  switchport access vlan 999

interface Et3/3
  switchport mode access
  switchport access vlan 999

hostname test2
end
